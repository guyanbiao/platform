<div ng-controller="main">
  <div id='door' class="row" >
    <div class="span8">
      <div id="core_editor" contenteditable=true >
        <%= raw @article.html %>
      </div>

      <div class="row">
        <div class="span2">
          <button ng-click="down_transfer()">&#8595;</button>
        <button ng-click="up_transfer()">&#8593;</button>
        </div>
        <div class="span6" style="text-align: right">
          <button class="btn btn-info" ng-click="addModule()">Save</button>
          <button class="btn btn-success" ng-click="updateArticle()">保存更改</button>
          <button class="btn btn-alert" ng-click="findExceedWord()">
            {{exceed_word_switch && '隐藏超纲词' || '显示超纲词' }}
          </button>
          <button class="btn btn-alert" ng-click="findFirstAppear()">{{first_appear_switch && '隐藏生词' || '显示生词' }}</button>
        </div>
      </div>

      <div id="shower_wrapper">
        <div origin id="shower" contenteditable=true>
        </div>
      </div>
    </div>

    <div class="span4">
      <div>
      <div class='btn btn-small btn-danger' ng-click="unMark()">取消词义标注</div>
        <div id="attr_pick"></div>
      </div>
      <h3>本课生词: </h3>
      <div ng-repeat="word in marked_words">
        <div class="left word_body">{{word.word}}</div> <div class="">{{word.meaning}}</div>
      </div>
    </div>

    <div class="span2" id="boxes">
      <div>生词<input ng-model="new_comer" type="checkbox" ng-click="setWordProperty('new_comer')"></div>
      <div>人名<input ng-model="proper_noun" type="checkbox" ng-click="setWordProperty('proper_noun')"></div>
    </div>
  </div>
</div>

<script>
  window.editor = ace.edit("shower")
  window.editor.getSession().setMode("ace/mode/xml");
  //window.editor.setValue("");
</script>